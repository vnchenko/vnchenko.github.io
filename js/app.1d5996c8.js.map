{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?a63e","webpack:///./src/helpers/api_mock.js","webpack:///./src/helpers/getters.js","webpack:///./src/helpers/object_control.js","webpack:///./src/helpers/graphics.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticClass","class","grabbing","_e","on","overlayClicked","_v","_s","selectedProductInfo","zoomedScale","farScale","link","staticRenderFns","showroomAPI","description","scenes","url","step","productSlots","id","coordinates","x","y","z","interactableScenes","position","products","productSlotId","productInfo","getCurrentScene","currentStep","find","scene","getProductSlotForObj","slot","getProductFarScale","currentProdSlot","farScaleOverride","loadGLBObject","objectPosition","objectOrder","loader","objects","load","obj","set","scale","add","setObjectsPositions","setClickedObj","itemHit","controlledObject","productoverlay","undefined","objectBody","parent","console","log","flyTheObjectInTheMiddle","showProductInfo","resetObjXOrientation","resetObjYOrientation","removeProductInfoOverlay","rotation","changeObjectPosition","style","display","currentScene","forEach","index","addLight","light","THREE","createMark","geometry","material","color","opacity","transparent","mesh","declareRenderer","canvasRef","renderer","antialias","canvas","setSize","innerWidth","innerHeight","setClearColor","loadRemainingScenes","remainingBackgrounds","filter","el","textureLoader","backgroundSphereClicked","backgroundSphereHit","backgroundSrc","nextStep","remove","changeBackground","getObjectByName","selectedScene","renderShowroom","texture","rt","image","height","fromEquirectangularTexture","background","camera","controls","raycaster","mouse","mouseX","mouseY","backgroundSphere","methods","init","lookAt","enableZoom","domElement","addEventListener","onWindowResize","animate","requestAnimationFrame","update","render","aspect","updateProjectionMatrix","onDocumentMouseClick","event","preventDefault","clientY","setFromCamera","items","$refs","onMouseMove","clientX","deltaX","deltaY","passwordCheck","pass_entered","password","prompt","mounted","component","Vue","config","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.1d5996c8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.passwordCheck)?_c('div',{attrs:{\"id\":\"app\"}},[_c('canvas',{ref:\"threejs\",staticClass:\"threejs\",class:_vm.grabbing})]):_vm._e(),_c('div',{ref:\"productoverlay\",attrs:{\"id\":\"product-overlay\"},on:{\"click\":this.overlayClicked}},[_c('h3',[_vm._v(\"Name: \"+_vm._s(this.selectedProductInfo.name))]),_c('h3',[_vm._v(\"Zoomed scale: \"+_vm._s(this.selectedProductInfo.zoomedScale))]),_c('h3',[_vm._v(\"Far scale: \"+_vm._s(this.selectedProductInfo.farScale))]),_c('a',[_vm._v(_vm._s(this.selectedProductInfo.link))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/** This represents the API response for a specific showroom\n *\n * Scenes: different scenes in one showroom\n * productSlots: positions of the product placeholders for each scene\n * step: which step does this scene represent\n * interactableScenes: other scenes that the user can navigate to\n */\nexport const showroomAPI = {\n    name: \"Mobile phones showroom\",\n    description: \"Test description\",\n    // TODO (optional) add a lookat vector for each background\n    // Scenes represent the different perspectives (backgrounds) taken in one showroom\n    scenes: [\n        {\n            name: \"Small Table close up\",\n            // url of the 360 image\n            url:\n                \"https://virtrex-vtf-files.ams3.digitaloceanspaces.com/seeder/STEP1.jpg\",\n            step: 1,\n            // we will keep this as an object in case we need more info for the productSlots than just coordinates\n            productSlots: [\n                // id is mandatory to know which product is shown where\n                // name and farScaleOverride are optional\n                { id: 1, coordinates: { x: 70, y: -5, z: 2 }, name: \"table position 1\", },\n                { id: 2, coordinates: { x: 50, y: -5, z: 4 }, name: \"table position 2\", },\n                { id: 3, coordinates: { x: 15, y: -1, z: 5 }, name: \"table position 3\", },\n            ],\n            // position of other spheres to change background (chg scene)\n            interactableScenes: [\n                {\n                    name: \"STEP2\",\n                    url:\n                        \"https://virtrex-vtf-files.ams3.digitaloceanspaces.com/seeder/STEP2.jpg\",\n                    step: 2,\n                    position: { x: 28, y: -3, z: -3.5 },\n                },\n                {\n                    name: \"STEP3.jpg\",\n                    url:\n                        \"https://virtrex-vtf-files.ams3.digitaloceanspaces.com/seeder/STEP3.jpg\",\n                    step: 3,\n                    position: { x: 28, y: -4, z: 22 },\n                },\n            ],\n        },\n        {\n            name: \"Large table\",\n            url:\n                \"https://virtrex-vtf-files.ams3.digitaloceanspaces.com/seeder/STEP2.jpg\",\n            step: 2,\n            productSlots: [\n                { id: 1, coordinates: { x: 7, y: -5, z: 15 }, name: \"table position 1\", },\n                { id: 2, coordinates: { x: 5, y: -5, z: 11 }, name: \"table position 2\", },\n                { id: 3, coordinates: { x: 15, y: -5, z: 12 }, name: \"table position 3\", },\n            ],\n            // position of other spheres to change background (chg scene)\n            interactableScenes: [\n                {\n                    name: \"STEP1.jpg\",\n                    url:\n                        \"https://virtrex-vtf-files.ams3.digitaloceanspaces.com/seeder/STEP1.jpg\",\n                    step: 1,\n                    position: { x: -28, y: -3, z: 3 },\n                },\n                {\n                    name: \"STEP3.jpg\",\n                    url:\n                        \"https://virtrex-vtf-files.ams3.digitaloceanspaces.com/seeder/STEP3.jpg\",\n                    step: 3,\n                    position: { x: -12, y: -6, z: 40 },\n                },\n            ],\n        },\n        {\n            name: \"3rd step\",\n            url:\n                \"https://virtrex-vtf-files.ams3.digitaloceanspaces.com/seeder/STEP3.jpg\",\n            step: 3,\n            productSlots: [\n                { id: 1, coordinates: { x: 7, y: -5, z: -15 }, name: \"table position 1\", },\n                // { id: 2, coordinates: { x: 5, y: -5, z: -11 }, name: \"table position 2\", },\n                { id: 3, coordinates: { x: 15, y: -5, z: -12 }, name: \"table position 3\", },\n            ],\n            // position of other spheres to change background (chg scene)\n            interactableScenes: [\n                // {\n                //     name: \"STEP1.jpg\",\n                //     url:\n                //         \"https://virtrex-vtf-files.ams3.digitaloceanspaces.com/seeder/STEP1.jpg\",\n                //     step: 1,\n                //     position: { x: -30, y: -4, z: -25 },\n                // },\n                // {\n                //     name: \"STEP2.jpg\",\n                //     url:\n                //         \"https://virtrex-vtf-files.ams3.digitaloceanspaces.com/seeder/STEP2.jpg\",\n                //     step: 2,\n                //     position: { x: 15, y: -7, z: -50 },\n                // },\n            ],\n        },\n    ],\n    products: [\n        {\n            url: \"https://scbl3dcloud.azureedge.net/98efaeaf-3c08-4b5a-9248-d1109f224001/5374cc104ccc46e3af7700a31f8b9401/fd23dec903a64f439170036176210ab4.glb\",\n            productSlotId: 1,\n            // TODO BE team will check how to nest the info inside productInfo like this\n            // otherwise, the info of that will be without this wrapper (productInfo)\n            productInfo: {\n                name: \"GIRA - Schalter mit Display\",\n                link: \"someLink1\",\n                zoomedScale: 3,\n                // farScale will be per product per showroom (not per scene)\n                // to override for a productSlot, user needs to define farScaleOverride for the productSlot\n                farScale: 20,\n                // TODO: later maybe there will be an orientation attribute\n                // orientation: (1,2,3)\n            },\n        },\n        // {\n        //     url: \"https://scbl3dcloud.azureedge.net/98efaeaf-3c08-4b5a-9248-d1109f224001/4b70f28d67d44915b6bb830ca46c4011/cb405c03fb6b4271ba708e27112a7a0c.glb\",\n        //     productSlotId: 2,\n        //     productInfo: {\n        //         name: \"GIRA - Lichtschalter schwarz mit Steckdose\",\n        //         link: \"someLink2\",\n        //         zoomedScale: 2,\n        //         farScale: 20,\n        //         // orientation: (1,2,3)\n        //     },\n        // },\n        {\n            \n            url: \"https://scbl3dcloud.azureedge.net/98efaeaf-3c08-4b5a-9248-d1109f224001/169b0a93ee074e87bf2f3d7085d06e18/a32b15ff514b4452b354994702764155.glb\",\n            productSlotId: 3,\n            productInfo: {\n                name: \"GIRA - Flächenschalter, Feinweiß 0188112\",\n                link: \"someLink3\",\n                zoomedScale: 1,\n                farScale: 20,\n                // orientation: (1,2,3)\n            },\n        },\n    ]\n};\n","\n/** gets current scene data, given the showroomAPI response and current step */\nexport const getCurrentScene = (showroomAPI, currentStep) => {\n    return showroomAPI.scenes.find((scene) => scene.step == currentStep);\n}\n\n/** gets current product slot data for a given object, given the object, showroomAPI response and current step */\nexport const getProductSlotForObj = (object, showroomAPI, step) => {\n    return getCurrentScene(showroomAPI, step).productSlots.find(\n        (slot) => slot.id == object.productSlotId\n    );\n}\n\n/** gets the product farScale from product itself or the productSlot if given */\nexport const getProductFarScale = (object, showroomAPI, step) => {\n    // scale here is some arbitary value, we can control it later or pass it with coordinates\n    const farScale = object.productInfo.farScale;\n\n    // Check if a farScaleOverride was set for that productSlot in that scene\n    const currentProdSlot = getProductSlotForObj(\n        object,\n        showroomAPI,\n        step\n    );\n\n    const farScaleOverride = currentProdSlot.farScaleOverride;\n    // return farScale if no farScaleOverride was set\n    return farScaleOverride ? farScaleOverride : farScale;\n}\n\n","import { getCurrentScene, getProductFarScale } from \"./getters\"\n\n/** helper function to load GLB objects  */\nexport const loadGLBObject = (\n    showroomAPI,\n    object,\n    objectPosition,\n    objectOrder,\n    loader,\n    step,\n    scene,\n    objects,\n) => {\n    loader.load(object.url, (obj) => {\n        // The following is only useful if we enable the zoom in the scene\n        // setMaxZoom(obj.scene)\n\n        obj.scene.position.set(\n            objectPosition.x,\n            objectPosition.y,\n            objectPosition.z\n        );\n\n        // attach the given product info to the object\n        obj.scene.productInfo = object.productInfo;\n        obj.scene.productSlotId = object.productSlotId;\n\n        const farScale = getProductFarScale(object, showroomAPI, step);\n        obj.scene.scale.set(farScale, farScale, farScale);\n\n        // add the loaded obj to the scene\n        scene.add(obj.scene);\n\n        // add the obj to loaded objects\n        objects[objectOrder] = obj.scene;\n\n        // adjust the positions of all loaded objects\n        setObjectsPositions(showroomAPI, objects, step);\n    });\n}\n\n/**\n * Set selected object if the user clicks (i.e. anything other than the background sphere)\n *\n * If he clicks out of the objects, then clear selected object\n * \n * Returns the controlled obj and the grabbing prop\n * */\nexport const setClickedObj = (\n    showroomAPI,\n    itemHit,\n    controlledObject,\n    grabbing,\n    selectedProductInfo,\n    productoverlay,\n    objects,\n    currentStep\n) => {\n\n    grabbing = \"\"\n    // if the user click on some object (i.e. anything other than the background sphere)\n    if (itemHit != undefined) {\n        // TODO: maybe there is a better way to grab the object clicked from this array, not just the first obj we see\n\n        // we set the target to be the obj parent as the obj is a group of children of the glb file\n        // so the parent obj here is the correct glb file that we want to orbit around\n        const objectBody = itemHit.object.parent;\n\n        console.log(itemHit)\n\n        // Fly the object near to us\n        flyTheObjectInTheMiddle(objectBody);\n        selectedProductInfo = showProductInfo(objectBody, productoverlay);\n\n        // When you click on an object, we mark this as the selected object\n        controlledObject = objectBody;\n        grabbing = \"grabbing\";\n    } else {\n        // here, if the person clicked outside of the objects:\n        // First: we adjust the previously selected obj to original orientation\n        resetObjXOrientation(controlledObject);\n        resetObjYOrientation(controlledObject);\n        removeProductInfoOverlay(productoverlay);\n        // Then: and we reset the controlled object to null\n        controlledObject = null;\n        grabbing = \"\";\n\n        // return all objs to their original positions in that scene\n        setObjectsPositions(showroomAPI, objects, currentStep);\n    }\n\n    return [controlledObject, grabbing, selectedProductInfo]\n\n}\n\nconst resetObjXOrientation = (obj) => {\n    if (obj != null) {\n        obj.rotation.x = 0;\n    }\n}\n\nconst resetObjYOrientation = (obj) => {\n    if (obj != null) {\n        obj.rotation.y = 0;\n    }\n}\n\n\n// TODO check how easy it is to animate this movement instead of making it instantly\n/** Get the object to the center */\nexport const flyTheObjectInTheMiddle = (obj) => {\n    changeObjectPosition(obj, { x: 0, y: 0, z: 0 });\n    // TODO (optional) put a scroll that controls the scale for the user\n    // controls how big the obj is when clicked\n    // const zoomedScale = obj.productInfo.zoomedScale;\n    const zoomedScale = 4;\n    obj.scale.set(zoomedScale, zoomedScale, zoomedScale);\n}\n\n/** on obj click, show info box */\n// TODO filter the objects by the object name we hit and then get the info of that object\nexport const showProductInfo = (objectBody, productoverlay) => {\n    // show product info\n    productoverlay.style.display = \"block\";\n    // return selected productInfo\n    return objectBody.productInfo\n}\n\nexport const removeProductInfoOverlay = (productoverlay) => {\n    productoverlay.style.display = \"none\";\n}\n\n/** loop on array of objects in the scene and adjust their positions */\nexport const setObjectsPositions = (showroomAPI, objects, currentStep) => {\n    const currentScene = getCurrentScene(showroomAPI, currentStep);\n\n    objects.forEach((obj, index) => {\n        changeObjectPosition(\n            obj,\n            currentScene.productSlots[index].coordinates\n        );\n        // reset the scales (also can be an admin given value for scale on the table for example)\n        const scale = getProductFarScale(obj, showroomAPI, currentStep);\n        obj.scale.set(scale, scale, scale);\n    });\n}\n\nexport const changeObjectPosition = (obj, position) => {\n    obj.position.set(position.x, position.y, position.z);\n}\n","import * as THREE from \"three\";\nimport {\n    setObjectsPositions,\n} from \"./object_control.js\";\nimport { getCurrentScene } from \"./getters.js\"\n\n/** axes helpers to show us x,y,z axes in the showroom */\nexport const addAxesHelpers = (scene) => {\n    // add XYZ axes helpers\n    // The X axis is red. The Y axis is green. The Z axis is blue.\n    const axesHelper = new THREE.AxesHelper(10);\n    scene.add(axesHelper);\n\n    const dir = new THREE.Vector3(1, 2, 0);\n    //normalize the direction vector (convert to vector of length 1)\n    dir.normalize();\n\n    const origin = new THREE.Vector3(0, 0, 0);\n    const length = 1;\n    const hex = 0xffff00;\n\n    const arrowHelper = new THREE.ArrowHelper(dir, origin, length, hex);\n    scene.add(arrowHelper);\n}\nexport const addLight = (scene) => {\n    const light = new THREE.PointLight(0xffffff, 2, 100);\n    light.position.set(5, 5, 5);\n    scene.add(light);\n}\n\n/** create the mark that helps user change scene (change step) */\nexport const createMark = (scene, { name, position, step }) => {\n    const geometry = new THREE.SphereGeometry(2, 32, 32);\n    const material = new THREE.MeshPhongMaterial({\n        color: 0xffffff,\n        opacity: 1,\n        transparent: true,\n    });\n    const mesh = new THREE.Mesh(geometry, material);\n\n    mesh.name = name;\n    mesh.step = step;\n\n    mesh.position.x = position.x;\n    mesh.position.y = position.y;\n    mesh.position.z = position.z;\n\n    scene.add(mesh);\n}\n\n\n/** Sets the camera max zoom based on a given object (only useful if zoom is enabled) */\nexport const setMaxZoom = (controls, objScene) => {\n    const coords = new THREE.Box3()\n        .setFromObject(objScene)\n        .getSize(new THREE.Vector3());\n    const maxCoord = Math.max.apply(null, Object.values(coords));\n    controls.minDistance = maxCoord;\n}\n\nexport const declareRenderer = (canvasRef) => {\n    const renderer = new THREE.WebGLRenderer({\n        antialias: true,\n        canvas: canvasRef,\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setClearColor(0xffffff);\n\n    return renderer\n}\n\n// TODO try to mark all the assets as cachable (probably from the backend when retrieving the assets)\n// TODO rethink this func as it helps call the imgs but apparently not really load them and reuse them in the scene\n\n/** silently preload the remaining backgrounds (scenes) */\nexport const loadRemainingScenes = (showroomAPI, currentStep) => {\n    const remainingBackgrounds = showroomAPI.scenes.filter(\n        (el) => el.step !== currentStep\n    );\n    const textureLoader = new THREE.TextureLoader();\n    remainingBackgrounds.forEach((el) => textureLoader.load(el.name));\n}\n\n\n/** Change background when user click on another step and updates the currentStep*/\nexport const backgroundSphereClicked = (\n    showroomAPI,\n    backgroundSphereHit,\n    backgroundSrc,\n    renderer,\n    scene,\n    objects,\n    step) => {\n\n    // initialize nextStep as the currentStep\n    var nextStep = step\n    if (backgroundSphereHit != undefined) {\n        scene.remove(backgroundSphereHit.object.name);\n\n        // if a sphere was clicked, overwrite the step with the clicked step\n        nextStep = changeBackground(\n            showroomAPI,\n            backgroundSphereHit,\n            backgroundSrc,\n            renderer,\n            scene,\n            objects,\n            step);\n    }\n\n    return nextStep\n}\n\n\nexport const changeBackground = (\n    showroomAPI,\n    backgroundSphereHit,\n    backgroundSrc,\n    renderer,\n    scene,\n    objects,\n    step) => {\n    const currentScene = getCurrentScene(showroomAPI, step);\n    currentScene.interactableScenes.forEach((el) => {\n        const obj = scene.getObjectByName(el.name);\n        scene.remove(obj);\n    });\n\n    // get the url of this step\n    const selectedScene = getCurrentScene(showroomAPI, backgroundSphereHit.object.step);\n    backgroundSrc = selectedScene.url;\n    const nextStep = backgroundSphereHit.object.step;\n\n    renderShowroom(\n        showroomAPI,\n        backgroundSrc,\n        renderer,\n        scene,\n        objects,\n        nextStep)\n\n    return nextStep\n}\n\nexport const renderShowroom = (\n    showroomAPI,\n    backgroundSrc,\n    renderer,\n    scene,\n    objects,\n    step) => {\n\n    const loader = new THREE.TextureLoader();\n    const texture = loader.load(\n        backgroundSrc,\n        () => {\n            const rt = new THREE.WebGLCubeRenderTarget(texture.image.height);\n            rt.fromEquirectangularTexture(renderer, texture);\n            scene.background = rt;\n        });\n\n    // After changing the background, adjust the objs positions to suit the new scene\n    setObjectsPositions(showroomAPI, objects, step);\n    // Create the marks for camera position change (background change)\n    const currentScene = getCurrentScene(showroomAPI, step);\n\n    currentScene.interactableScenes.forEach((el) =>\n        createMark(scene, el)\n    );\n}","<template>\n  <div>\n    <div id=\"app\" v-if=\"passwordCheck\">\n      <canvas ref=\"threejs\" class=\"threejs\" :class=\"grabbing\" />\n    </div>\n    <div ref=\"productoverlay\" id=\"product-overlay\" @click=\"this.overlayClicked\">\n      <h3>Name: {{ this.selectedProductInfo.name }}</h3>\n      <!-- TODO: remove soon after DEMO -->\n      <h3>Zoomed scale: {{ this.selectedProductInfo.zoomedScale }}</h3>\n      <h3>Far scale: {{ this.selectedProductInfo.farScale }}</h3>\n      <a>{{ this.selectedProductInfo.link }}</a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\n\n// This import below will be later replaced by the API call\nimport { showroomAPI } from \"./helpers/api_mock.js\";\nimport {\n  addLight,\n  backgroundSphereClicked,\n  declareRenderer,\n  loadRemainingScenes,\n  renderShowroom,\n} from \"./helpers/graphics.js\";\nimport { getCurrentScene } from \"./helpers/getters.js\";\n\nimport {\n  setClickedObj,\n  removeProductInfoOverlay,\n  loadGLBObject,\n} from \"./helpers/object_control.js\";\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      backgroundSrc: null,\n      step: 3,\n      scene: null,\n      camera: null,\n      renderer: null,\n      loader: null,\n      controls: null,\n      light: null,\n      raycaster: [],\n      mouse: null,\n      controlledObject: null,\n      mouseX: 0,\n      mouseY: 0,\n      grabbing: \"\",\n      backgroundSphere: null,\n      objects: [],\n      selectedProductInfo: { name: null, link: null },\n    };\n  },\n\n  methods: {\n    init() {\n      this.scene = new THREE.Scene();\n      const windowAspect = window.innerWidth / window.innerHeight;\n      const camera = new THREE.PerspectiveCamera(75, windowAspect, 0.1, 10000);\n      camera.position.x = 1;\n      camera.lookAt(1, 0, 4);\n      this.camera = camera;\n\n      this.renderer = declareRenderer(this.$refs.threejs);\n      const controls = new OrbitControls(this.camera, this.renderer.domElement);\n      controls.enableZoom = false;\n\n      const mouse = new THREE.Vector2();\n      const raycaster = new THREE.Raycaster();\n\n      // binding the variables to the VM instance variables (to the \"this\" variables)\n      [this.controls, this.mouse, this.raycaster] = [\n        controls,\n        mouse,\n        raycaster,\n      ];\n\n      addLight(this.scene);\n\n      const loader = new GLTFLoader();\n      this.loader = loader;\n\n      // a very far away position (dummy) to start with for loading an object\n      const dummyPosition = { x: 10000, y: 10000, z: 10000 };\n\n      // load the given array of objects sent by the API\n      showroomAPI.products.forEach((obj, index) =>\n        loadGLBObject(\n          showroomAPI,\n          obj,\n          dummyPosition,\n          index,\n          this.loader,\n          this.step,\n          this.scene,\n          this.objects,\n          this.step\n        )\n      );\n\n      // Get img url of the current scene\n      this.backgroundSrc = getCurrentScene(showroomAPI, this.step).url;\n\n      // TODO: maybe add a light from the camera or from origin towards what we see, check with Dawid\n      // Or we should consider using HDRI as Dawid advised\n\n      renderShowroom(\n        showroomAPI,\n        this.backgroundSrc,\n        this.renderer,\n        this.scene,\n        this.objects,\n        this.step\n      );\n\n      // addAxesHelpers(this.scene);\n\n      this.renderer.domElement.addEventListener(\n        \"click\",\n        this.onDocumentMouseClick,\n        false\n      );\n      this.renderer.domElement.addEventListener(\n        \"mousemove\",\n        this.onMouseMove,\n        false\n      );\n      window.addEventListener(\"resize\", this.onWindowResize, false);\n    },\n\n    // TODO add changeObjectScale that will depend on the productSlot attribute for farScale\n    animate() {\n      requestAnimationFrame(this.animate);\n      this.controls.update();\n      this.render();\n    },\n\n    /** Handle browser window resize */\n    onWindowResize() {\n      this.camera.aspect = window.innerWidth / window.innerHeight;\n      this.camera.updateProjectionMatrix();\n\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n    },\n    onDocumentMouseClick(event) {\n      event.preventDefault();\n      this.mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n      this.mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n\n      this.raycaster.setFromCamera(this.mouse, this.camera);\n      let items = this.raycaster.intersectObjects(this.scene.children, true);\n\n      console.log(items)\n\n      // TODO We should have some pattern to filter the objects here, maybe some prefix to all their names for example\n      // using find to get the first element here, we can use filter to get array of matching elements\n      // const itemHit = items.find((item) => item.object.name.includes(\"GIRA\"));\n      const itemHit = items[0]\n\n      // using find instead of filter to get the first matching element\n      const backgroundSphereHit = items.find((item) =>\n        item.object.name.includes(\"STEP\")\n      );\n\n      [\n        this.controlledObject,\n        this.grabbing,\n        this.selectedProductInfo,\n      ] = setClickedObj(\n        showroomAPI,\n        itemHit,\n        this.controlledObject,\n        this.grabbing,\n        this.selectedProductInfo,\n        this.$refs.productoverlay,\n        this.objects,\n        this.step\n      );\n\n      this.step = backgroundSphereClicked(\n        showroomAPI,\n        backgroundSphereHit,\n        this.backgroundSrc,\n        this.renderer,\n        this.scene,\n        this.objects,\n        this.step\n      );\n    },\n\n    overlayClicked() {\n      removeProductInfoOverlay(this.$refs.productoverlay);\n    },\n\n    onMouseMove(event) {\n      event.preventDefault();\n      const deltaX = event.clientX - this.mouseX;\n      const deltaY = event.clientY - this.mouseY;\n\n      this.mouseX = event.clientX;\n      this.mouseY = event.clientY;\n\n      if (this.controlledObject != null) {\n        this.controlledObject.rotation.y += deltaX / 100;\n        this.controlledObject.rotation.x += deltaY / 100;\n      }\n    },\n\n    render() {\n      this.renderer.render(this.scene, this.camera);\n    },\n\n    passwordCheck() {\n      let pass_entered = \"\";\n      const password = \"virtrex\";\n      while (pass_entered != password) {\n        pass_entered = prompt(\"Please enter the password:\", \"\");\n      }\n      return true;\n    },\n  },\n  mounted() {\n    if (process.env.NODE_ENV != \"development\") {\n      this.passwordCheck();\n    }\n    this.init();\n    this.animate();\n    loadRemainingScenes(showroomAPI, this.step);\n  },\n};\n</script>\n\n<style>\nbody {\n  margin: 0;\n  padding: 0;\n}\n.controls {\n  position: absolute;\n  z-index: 3;\n  top: 20px;\n  left: 20px;\n}\n\n/* (Optional) Apply a \"closed-hand\" cursor during drag operation. */\n.grabbing {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n\n#product-overlay {\n  position: fixed;\n  display: none;\n  width: 100%;\n  height: 20%;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n  cursor: pointer;\n  color: white;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4451c072&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}